<app-nav-bar-emp></app-nav-bar-emp>
<br>
<div class="container col ">
    <div class="card animated fadeIn fast">
        <div class="card-header">
            GESTION DE PRODUCTOS
        </div>
        <div class="card-body">

            <div class="row">
                <div class="col-sm-5">
                    <h3>Registro De Productos</h3>
                    <form [formGroup]="formGroup">
                        <div class="form-group">
                            <h5 class="card-title"><strong>ID Producto</strong></h5>
                            <input type="text" autocomplete="off" name="idproducto" class="form-control" placeholder="ID Producto" [ngClass]="{'is-invalid':control.idproducto.errors && control.idproducto.touched}" formControlName="idproducto">
                            <div *ngIf="control.idproducto.errors"  class="invalid-feedback">
                                <div *ngIf="control.idproducto.errors.required">
                                    Se requiere el ID del Producto
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <h5 class="card-title"><strong>Descripcion</strong></h5>
                            <input type="text" autocomplete="off" name="descripcion" class="form-control" placeholder="Descripcion" [ngClass]="{'is-invalid':control.descripcion.errors && control.descripcion.touched}" formControlName="descripcion">
                            <div *ngIf="control.descripcion.errors"  class="invalid-feedback">
                                <div *ngIf="control.descripcion.errors.required">
                                    Se requiere la descripcion del Producto
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <h5 class="card-title"><strong>Cantidad Stock</strong></h5>
                            <input type="number" autocomplete="off" name="stock" class="form-control" placeholder="Cantidad Stock" [ngClass]="{'is-invalid':control.stock.errors && control.stock.touched}" formControlName="stock">
                            <div *ngIf="control.stock.errors"  class="invalid-feedback">
                                <div *ngIf="control.stock.errors.required">
                                    Se requiere el stock del Producto
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <h5 class="card-title"><strong>Vr Unitario</strong></h5>
                            <input type="number" autocomplete="off" name="vrunitario" class="form-control" placeholder="Vr Unitario" [ngClass]="{'is-invalid':control.vrunitario.errors && control.vrunitario.touched}" formControlName="vrunitario">
                            <div *ngIf="control.vrunitario.errors"  class="invalid-feedback">
                                <div *ngIf="control.vrunitario.errors.required">
                                    Se requiere el Valor unitario del Producto
                                </div>
                            </div>
                        </div>

                    </form>
                    <div class="col " id="btnreg ">
                        <ul class="navega ">
                            <li>
                                <button type="button" class="btn btn-outline-light " (click)="onSave() " [disabled]="formGroup.invalid">Registrar</button>
                            </li>
                        </ul>
                    </div>
                    <br>
                </div>

                <div class="col">
                    <img src="assets/img/productos.png" alt="">
                    <form>
                        <div class="form-group ">
                            <input autocomplete="off" type="text " class="form-control " name="idproducto" placeholder="IDProducto" [(ngModel)]="idproducto">
                        </div>

                        <div class="col" id="btnreg">
                            <ul class="navega">
                                <!-- <li>
                                    <a type="button" class="btn btn-outline-light">Buscar</a>
                                </li> -->
                                <li>
                                    <a type="button" class="btn btn-outline-light">Actualizar</a>
                                </li>
                                <li>
                                    <a type="button" class="btn btn-outline-light" (click)="eliminar()">Eliminar</a>
                                </li>
                            </ul>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<br>
<div class="card-header ">
    LISTADO DE PRODUCTOS
    <br>
    <br>
    <div class="row">
        <div class="col-sm-10">
            <div class="form-group ">
                <input autocomplete="off" type="text " class="form-control " name="search" placeholder="Search" [(ngModel)]="searchproducto">
            </div>
        </div>
        <div class="col-sm-2">
            <a type="button " class="btn btn-outline-light " (click)="consultar()">Consultar Lista</a>
        </div>
    </div>
</div>

<br>
<div class=" container ">
    <table class="table table-bordered ">
        <thead>
            <tr>
                <th scope="col ">#</th>
                <th scope="col ">IDProducto</th>
                <th scope="col ">Descripcion</th>
                <th scope="col ">Stock</th>
                <th scope="col ">Valor Unitario</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let producto of productos|filtroproducto:searchproducto; index as i ">
                <th scope="row ">{{i+1}}</th>
                <td>{{producto.idproducto}}</td>
                <td>{{producto.descripcion}}</td>
                <td>{{producto.stock}}</td>
                <td>{{producto.vrunitario|currency:'COP$ ':'symbol':'.0-0'}}</td>
            </tr>
        </tbody>
    </table>
</div>